(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-testing-upload"],{5634:function(t,e,i){"use strict";var n=i("e051"),a=i.n(n);a.a},"99af":function(t,e,i){"use strict";var n=i("23e7"),a=i("d039"),s=i("e8b5"),o=i("861d"),r=i("7b0b"),l=i("50c4"),c=i("8418"),u=i("65f0"),f=i("1dde"),d=i("b622"),g=i("2d00"),m=d("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",v=g>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),y=f("concat"),b=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:s(t)},x=!v||!y;n({target:"Array",proto:!0,forced:x},{concat:function(t){var e,i,n,a,s,o=r(this),f=u(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(s=-1===e?o:arguments[e],b(s)){if(a=l(s.length),d+a>h)throw TypeError(p);for(i=0;i<a;i++,d++)i in s&&c(f,d,s[i])}else{if(d>=h)throw TypeError(p);c(f,d++,s)}return f.length=d,f}})},c740:function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").findIndex,s=i("44d2"),o=i("ae40"),r="findIndex",l=!0,c=o(r);r in[]&&Array(1)[r]((function(){l=!1})),n({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),s(r)},d17f:function(t,e,i){t.exports=i.p+"img/image.9604208c.svg"},e051:function(t,e,i){},eeb9:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"uploadContainer hoverable text-center flex flex-wrap flex-row"},[n("div",{staticClass:"text-center",staticStyle:{cursor:"pointer"},on:{click:t.upload}},t._l(t.imgList,(function(e,i){return n("img",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],key:i,staticClass:"imgInput myImage imgSize",staticStyle:{"z-index":"100","margin-left":"10%"},attrs:{src:e,id:"imgKu"+i},on:{click:function(e){return t.zoomIn(e)}}})})),0),n("div",{staticClass:"text-center cursor-pointer",staticStyle:{position:"static"}},[t.imgList.length<1?n("label",{staticClass:"cursor-pointer",staticStyle:{"font-size":"12px",color:"black",position:"absolute","margin-left":"5px","margin-top":"0px"},attrs:{for:"file2"}},[n("img",{attrs:{src:i("d17f")}})]):t._e(),n("input",{ref:"uploader",staticClass:"cursor-pointer",class:{"d-none":t.imgList.length>0},attrs:{id:"file2",type:"file"},on:{input:function(e){return e.preventDefault(),t.ambil(e)}}})]),n("section",{staticStyle:{"margin-left":"20px"}},[n("button",{staticClass:"btn btn-sm btn-outline-success waves-effect d-none",attrs:{type:"button"},on:{click:t.upload}},[t._v("Browse")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],staticClass:"btn btn-sm btn-outline-danger waves-effect",attrs:{type:"button",id:"rest"},on:{click:t.reset}},[t._v("Reset")])])])])},a=[],s=(i("99af"),i("c740"),i("4160"),i("159b"),i("bc3a")),o=i.n(s),r={data:function(){return{imgList:[],count:0,imgFiles:[],imgs:[]}},watch:{imgList:function(){var t=this;setTimeout((function(){0==t.imgList.length&&t.$emit("resetInput",!0)}),300)}},methods:{zoomIn:function(t){console.log(t.target.classList.toggle("zoomIn"))},hilang:function(t,e){var i=this,n=t.target.src,a=this.imgList.findIndex((function(t){return t==n}));delete this.imgList[a];var s=0;this.$el.querySelector("#imgKu"+e).classList.add("hilang"),this.$el.querySelectorAll(".myImage").forEach((function(t){t.classList.contains("hilang")&&s++})),s>0&&this.count++,this.count==this.$el.querySelectorAll(".myImage").length&&setTimeout((function(){i.$el.querySelector("#rest").click()}),300)},reset:function(){this.$el.querySelector("#file2").style.display="initial",this.$el.querySelectorAll(".myImage").forEach((function(t){t.style.display="none"})),this.imgList=[],this.count=0},upload:function(t){var e=1;this.imgList.length>0?(this.$el.querySelectorAll(".myImage").forEach((function(i){t.target!=i?e+=1:e*=-100})),e>0&&this.$refs.uploader.click()):this.$refs.uploader.click()},ambil:function(t){var e,i,n=this,a=this;(this.$nuxt.$emit("busy",!0),t.target.files[0].size>1e7)?alert("File yang di upload tidak sesuai kriteria"):t.target.files.length>0&&function(){for(var s,r=[],l=[],c=0;c<t.target.files.length;c++){n.imgs.push(t.target.files[c]),e=t.target.files[c],i=new FileReader,i.onload=function(t){r.push(t.target.result)},i.readAsDataURL(e),s=t.target.files[c],s.size<1e6?30:s.size<2e6?25:s.size<3e6?20:s.size<4e6?15:10;var u=new FormData;u.append("file",s),o.a.post("https://infolayanans.now.sh/api/data/upload",u,{headers:{Authorization:localStorage.getItem("auth._token.local")}}).then((function(t){console.log("output",t.data.data),n.$emit("link",t.data.data),setTimeout((function(){l.push("".concat(a.$store.state.url).concat(t.data.data))}),2e3)})).catch((function(t){console.log(t)}))}n.imgList=r,console.log(t.target),setTimeout((function(){n.$emit("upload",l),n.$nuxt.$emit("busy",!1)}),1e3)}()}}},l=r,c=(i("5634"),i("2877")),u=Object(c["a"])(l,n,a,!1,null,null,null);e["a"]=u.exports},fbd3:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._v(" "+t._s(t.vdata.upload)+" "),i("upload",{on:{upload:t.go,link:t.linknya}})],1)},a=[],s=i("eeb9"),o=(i("bc3a"),{components:{upload:s["a"]},data:function(){return{vdata:{}}},methods:{linknya:function(t){console.log("link",t),this.vdata.upload=t,this.$forceUpdate()},go:function(t){console.log("uploaded")}}}),r=o,l=i("2877"),c=Object(l["a"])(r,n,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=page-testing-upload.80bbd2c5.js.map