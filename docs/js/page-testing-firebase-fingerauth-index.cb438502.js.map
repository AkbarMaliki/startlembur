{"version":3,"sources":["webpack:///./node_modules/unibabel/index.js","webpack:///./src/pages/testing/firebase/fingerauth/index.vue?2e40","webpack:///./node_modules/@webauthn/client/src/utils.js","webpack:///./node_modules/@webauthn/client/src/solveRegistrationChallenge.js","webpack:///src/pages/testing/firebase/fingerauth/index.vue","webpack:///./src/pages/testing/firebase/fingerauth/index.vue?1634","webpack:///./src/pages/testing/firebase/fingerauth/index.vue"],"names":["utf8ToBinaryString","str","escstr","encodeURIComponent","binstr","replace","match","p1","String","fromCharCode","parseInt","utf8ToBuffer","buf","binaryStringToBuffer","utf8ToBase64","btoa","binaryStringToUtf8","m","p","code","charCodeAt","toString","toUpperCase","length","decodeURIComponent","bufferToUtf8","bufferToBinaryString","base64ToUtf8","b64","atob","Array","prototype","map","call","ch","join","bufferToBase64","arr","Uint8Array","forEach","i","base64ToBuffer","base64","exports","Unibabel","strToUtf8Arr","utf8ArrToStr","arrToBase64","base64ToArr","window","global","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","fingerauth","_v","staticRenderFns","publicKeyCredentialToJSON","item","ArrayBuffer","Object","obj","key","registrationChallengeToPublicKey","credentialsChallengeRequest","challenge","user","id","solveRegistrationChallenge","async","publicKey","credentials","navigator","create","methods","component"],"mappings":"8HAAA,yBACA,aAEA,SAASA,EAAmBC,GAC1B,IAAIC,EAASC,mBAAmBF,GAG5BG,EAASF,EAAOG,QAAQ,mBAAmB,SAASC,EAAOC,GAC7D,OAAOC,OAAOC,aAAaC,SAASH,EAAI,QAG1C,OAAOH,EAGT,SAASO,EAAaV,GACpB,IAAIG,EAASJ,EAAmBC,GAC5BW,EAAMC,EAAqBT,GAC/B,OAAOQ,EAGT,SAASE,EAAab,GACpB,IAAIG,EAASJ,EAAmBC,GAChC,OAAOc,KAAKX,GAGd,SAASY,EAAmBZ,GAC1B,IAAIF,EAASE,EAAOC,QAAQ,QAAQ,SAAUY,EAAGC,GAC/C,IAAIC,EAAOD,EAAEE,WAAW,GAAGC,SAAS,IAAIC,cAIxC,OAHIH,EAAKI,OAAS,IAChBJ,EAAO,IAAMA,GAER,IAAMA,KAGf,OAAOK,mBAAmBtB,GAG5B,SAASuB,EAAab,GACpB,IAAIR,EAASsB,EAAqBd,GAElC,OAAOI,EAAmBZ,GAG5B,SAASuB,EAAaC,GACpB,IAAIxB,EAASyB,KAAKD,GAElB,OAAOZ,EAAmBZ,GAG5B,SAASsB,EAAqBd,GAC5B,IAAIR,EAAS0B,MAAMC,UAAUC,IAAIC,KAAKrB,GAAK,SAAUsB,GACnD,OAAO1B,OAAOC,aAAayB,MAC1BC,KAAK,IAER,OAAO/B,EAGT,SAASgC,EAAeC,GACtB,IAAIjC,EAASsB,EAAqBW,GAClC,OAAOtB,KAAKX,GAGd,SAASS,EAAqBT,GAC5B,IAAIQ,EAYJ,OATEA,EADE,qBAAuB0B,WACnB,IAAIA,WAAWlC,EAAOmB,QAEtB,GAGRO,MAAMC,UAAUQ,QAAQN,KAAK7B,GAAQ,SAAU8B,EAAIM,GACjD5B,EAAI4B,GAAKN,EAAGd,WAAW,MAGlBR,EAGT,SAAS6B,EAAeC,GACtB,IAAItC,EAASyB,KAAKa,GACd9B,EAAMC,EAAqBT,GAC/B,OAAOQ,EAGT+B,EAAQC,SAAW,CACjB5C,mBAAoBA,EACpBW,aAAcA,EACdG,aAAcA,EACdE,mBAAoBA,EACpBS,aAAcA,EACdE,aAAcA,EACdD,qBAAsBA,EACtBU,eAAgBA,EAChBvB,qBAAsBA,EACtB4B,eAAgBA,EAGhBI,aAAclC,EACdmC,aAAcrB,EACdsB,YAAaX,EACbY,YAAaP,IApGf,CAuGoCE,GAAW,qBAAuBM,QAAUA,QAAUC,K,+DCvG1F,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACE,YAAY,2BAA2BC,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQR,EAAIS,aAAa,CAACT,EAAIU,GAAG,sBAC7PC,EAAkB,G,qBCDf,MAAMC,EACTC,IAEA,GAAIA,aAAgBnC,MAChB,OAAOmC,EAAKjC,IAAIgC,GAGpB,GAAIC,aAAgBC,YAAa,CAC7B,MAAM,SAAEtB,GAAa,EAAQ,QAE7B,OAAOA,EAASR,eAAe,IAAIE,WAAW2B,IAGlD,GAAIA,aAAgBE,OAAQ,CACxB,MAAMC,EAAM,GAGZ,IAAK,MAAMC,KAAOJ,EACdG,EAAIC,GAAOL,EAA0BC,EAAKI,IAG9C,OAAOD,EAGX,OAAOH,GCtBLK,EAAmCC,IACrC,MAAM,SAAE3B,GAAa,EAAQ,QAE7B,MAAO,IACA2B,EACHC,UAAW5B,EAASH,eAChB8B,EAA4BC,WAEhCC,KAAM,IACCF,EAA4BE,KAC/BC,GAAI9B,EAASH,eAAe8B,EAA4BE,KAAKC,OAK5DC,EAA6BC,UACtC,MAAMC,EAAYP,EACdC,GAEEO,QAAoBC,UAAUD,YAAYE,OAAO,CACnDH,cAGJ,OAAOb,EAA0Bc,ICZrC,OACEG,QAAS,CACPpB,WADJ,WAEA,aACM,EAAN,sIACQ,EAAR,0BACU,EAAV,gGACY,QAAZ,OACY,MAAZ,8BCrB4X,I,YCOxXqB,EAAY,eACd,EACA/B,EACAY,GACA,EACA,KACA,KACA,MAIa,aAAAmB,E","file":"js/page-testing-firebase-fingerauth-index.cb438502.js","sourcesContent":["(function (exports) {\n'use strict';\n\nfunction utf8ToBinaryString(str) {\n  var escstr = encodeURIComponent(str);\n  // replaces any uri escape sequence, such as %0A,\n  // with binary escape, such as 0x0A\n  var binstr = escstr.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n    return String.fromCharCode(parseInt(p1, 16));\n  });\n\n  return binstr;\n}\n\nfunction utf8ToBuffer(str) {\n  var binstr = utf8ToBinaryString(str);\n  var buf = binaryStringToBuffer(binstr);\n  return buf;\n}\n\nfunction utf8ToBase64(str) {\n  var binstr = utf8ToBinaryString(str);\n  return btoa(binstr);\n}\n\nfunction binaryStringToUtf8(binstr) {\n  var escstr = binstr.replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  });\n\n  return decodeURIComponent(escstr);\n}\n\nfunction bufferToUtf8(buf) {\n  var binstr = bufferToBinaryString(buf);\n\n  return binaryStringToUtf8(binstr);\n}\n\nfunction base64ToUtf8(b64) {\n  var binstr = atob(b64);\n\n  return binaryStringToUtf8(binstr);\n}\n\nfunction bufferToBinaryString(buf) {\n  var binstr = Array.prototype.map.call(buf, function (ch) {\n    return String.fromCharCode(ch);\n  }).join('');\n\n  return binstr;\n}\n\nfunction bufferToBase64(arr) {\n  var binstr = bufferToBinaryString(arr);\n  return btoa(binstr);\n}\n\nfunction binaryStringToBuffer(binstr) {\n  var buf;\n\n  if ('undefined' !== typeof Uint8Array) {\n    buf = new Uint8Array(binstr.length);\n  } else {\n    buf = [];\n  }\n\n  Array.prototype.forEach.call(binstr, function (ch, i) {\n    buf[i] = ch.charCodeAt(0);\n  });\n\n  return buf;\n}\n\nfunction base64ToBuffer(base64) {\n  var binstr = atob(base64);\n  var buf = binaryStringToBuffer(binstr);\n  return buf;\n}\n\nexports.Unibabel = {\n  utf8ToBinaryString: utf8ToBinaryString\n, utf8ToBuffer: utf8ToBuffer\n, utf8ToBase64: utf8ToBase64\n, binaryStringToUtf8: binaryStringToUtf8\n, bufferToUtf8: bufferToUtf8\n, base64ToUtf8: base64ToUtf8\n, bufferToBinaryString: bufferToBinaryString\n, bufferToBase64: bufferToBase64\n, binaryStringToBuffer: binaryStringToBuffer\n, base64ToBuffer: base64ToBuffer\n\n// compat\n, strToUtf8Arr: utf8ToBuffer\n, utf8ArrToStr: bufferToUtf8\n, arrToBase64: bufferToBase64\n, base64ToArr: base64ToBuffer\n};\n\n}('undefined' !== typeof exports && exports || 'undefined' !== typeof window && window || global));\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-sm btn-primary  \",attrs:{\"type\":\"button\"},on:{\"click\":_vm.fingerauth}},[_vm._v(\"Finger auth\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const publicKeyCredentialToJSON = (\n    item\n) => {\n    if (item instanceof Array) {\n        return item.map(publicKeyCredentialToJSON);\n    }\n\n    if (item instanceof ArrayBuffer) {\n        const { Unibabel } = require('unibabel');\n        // ArrayBuffer must be converted to typed arrays\n        return Unibabel.bufferToBase64(new Uint8Array(item));\n    }\n\n    if (item instanceof Object) {\n        const obj = {};\n\n        // tslint:disable-next-line\n        for (const key in item) {\n            obj[key] = publicKeyCredentialToJSON(item[key]);\n        }\n\n        return obj;\n    }\n\n    return item;\n};","import { publicKeyCredentialToJSON } from './utils';\n\nconst registrationChallengeToPublicKey = credentialsChallengeRequest => {\n    const { Unibabel } = require('unibabel');\n\n    return {\n        ...credentialsChallengeRequest,\n        challenge: Unibabel.base64ToBuffer(\n            credentialsChallengeRequest.challenge\n        ),\n        user: {\n            ...credentialsChallengeRequest.user,\n            id: Unibabel.base64ToBuffer(credentialsChallengeRequest.user.id),\n        },\n    };\n};\n\nexport const solveRegistrationChallenge = async credentialsChallengeRequest => {\n    const publicKey = registrationChallengeToPublicKey(\n        credentialsChallengeRequest\n    );\n    const credentials = await navigator.credentials.create({\n        publicKey,\n    });\n\n    return publicKeyCredentialToJSON(credentials);\n};","<template>\r\n  <div>\r\n      <div class=\"text-center\">\r\n        <button type=\"button\" @click=\"fingerauth\" class=\"btn btn-sm btn-primary  \">Finger auth</button>\r\n      </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from 'axios'\r\nimport { \r\n    solveRegistrationChallenge,\r\n    solveLoginChallenge\r\n} from '@webauthn/client';\r\nexport default{\r\n  methods: {\r\n    fingerauth(){\r\n      let fd = new FormData()\r\n      axios.post('https://us-central1-vuez-63625.cloudfunctions.net/app/fingerregister',{id:\"uuid\",email:\"maliki@gmail.com\"}).then(res=>{\r\n            solveRegistrationChallenge(res.data).then(credential=>{\r\n              axios.post('https://us-central1-vuez-63625.cloudfunctions.net/app/fingerlogin',credential).then(res3=>{\r\n                console.log(res3)\r\n                alert('login berhasil')\r\n              })\r\n            });\r\n      })\r\n    //   console.log('registration failed');\r\n    }\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b303ca80&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}