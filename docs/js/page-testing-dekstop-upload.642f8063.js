(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-testing-dekstop-upload"],{"702a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Uploader",{attrs:{multi:!1},on:{upload:function(e){t.img=e},resetInput:t.imageReset}}),i("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.upload}},[t._v("upload")])],1)},s=[],a=i("bc3a"),l=i.n(a),o=i("706d"),r={components:{Uploader:o["a"]},data:function(){return{img:[]}},methods:{upload:function(){var t=new FormData;t.append("photos",this.img),l.a.post("https://hulustore.herokuapp.com/api/data/upload",t).then((function(t){console.log(t)}))},imageReset:function(){alert("y")}}},c=r,u=i("2877"),p=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=p.exports},"706d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.multi?[i("div",{staticClass:"uploadContainer hoverable text-center flex flex-wrap flex-row",staticStyle:{padding:"10px"}},[i("div",{staticClass:"imgInputContainer",staticStyle:{cursor:"pointer","margin-left":"0px"},on:{click:t.upload}},t._l(t.imgList,(function(e,n){return i("img",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],key:n,staticClass:"imgInput myImage",staticStyle:{height:"90px",width:"60px","z-index":"100"},attrs:{src:e,id:"imgKu"+n},on:{click:function(e){return t.hilang(e,n)}}})})),0),i("div",{staticClass:"text-center cursor-pointer",staticStyle:{position:"static"}},[t.imgList.length<1?i("label",{staticStyle:{"font-size":"12px",color:"black",position:"absolute","margin-left":"13px","margin-top":"23px"},attrs:{for:"file"}},[t._v("Drag/Drop file")]):t._e(),i("input",{ref:"uploader",staticClass:"cursor-pointer",class:{"d-none":t.imgList.length>0},attrs:{id:"file",type:"file",multiple:""},on:{input:function(e){return e.preventDefault(),t.ambil(e)}}})]),i("section",{staticStyle:{"margin-left":"20px"}},[i("button",{staticClass:"btn btn-sm btn-outline-success waves-effect d-none",attrs:{type:"button"},on:{click:t.upload}},[t._v("Browse")]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],staticClass:"btn btn-sm btn-outline-danger waves-effect",attrs:{type:"button",id:"rest"},on:{click:t.reset}},[t._v("Reset")])])])]:[i("div",{staticClass:"uploadContainer hoverable text-center flex flex-wrap flex-row",staticStyle:{padding:"10px"}},[i("div",{staticClass:"imgInputContainer",staticStyle:{cursor:"pointer","margin-left":"0px"},on:{click:t.upload}},t._l(t.imgList,(function(e,n){return i("img",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],key:n,staticClass:"imgInput myImage",staticStyle:{height:"90px",width:"60px","z-index":"100"},attrs:{src:e,id:"imgKu"+n},on:{click:function(e){return t.hilang(e,n)}}})})),0),i("div",{staticClass:"text-center cursor-pointer",staticStyle:{position:"static"}},[t.imgList.length<1?i("label",{staticStyle:{"font-size":"12px",color:"black",position:"absolute","margin-left":"13px","margin-top":"23px"},attrs:{for:"file"}},[t._v("Drag/Drop file")]):t._e(),i("input",{ref:"uploader",staticClass:"cursor-pointer",class:{"d-none":t.imgList.length>0},attrs:{id:"file",type:"file"},on:{input:function(e){return e.preventDefault(),t.ambil(e)}}})]),i("section",{staticStyle:{"margin-left":"20px"}},[i("button",{staticClass:"btn btn-sm btn-outline-success waves-effect d-none",attrs:{type:"button"},on:{click:t.upload}},[t._v("Browse")]),i("button",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length>0"}],staticClass:"btn btn-sm btn-outline-danger waves-effect",attrs:{type:"button",id:"rest"},on:{click:t.reset}},[t._v("Reset")])])])]],2)},s=[],a=(i("c740"),i("4160"),i("b0c0"),i("159b"),{data:function(){return{imgList:[],count:0,imgFiles:[],imgs:[]}},props:{multi:{type:Boolean,required:!1,default:!0}},watch:{imgList:function(){var t=this;setTimeout((function(){0==t.imgList.length&&t.$emit("resetInput",!0)}),300)}},methods:{hilang:function(t,e){var i=this,n=t.target.src,s=this.imgList.findIndex((function(t){return t==n}));delete this.imgList[s];var a=0;this.$el.querySelector("#imgKu"+e).classList.add("hilang"),this.$el.querySelectorAll(".myImage").forEach((function(t){t.classList.contains("hilang")&&a++})),a>0&&this.count++,this.count==this.$el.querySelectorAll(".myImage").length&&setTimeout((function(){i.$el.querySelector("#rest").click()}),300)},reset:function(){this.$el.querySelector("#file").style.display="initial",this.$el.querySelectorAll(".myImage").forEach((function(t){t.style.display="none"})),this.imgList=[],this.count=0},upload:function(t){var e=1;this.imgList.length>0?(this.$el.querySelectorAll(".myImage").forEach((function(i){t.target!=i?e+=1:e*=-100})),e>0&&this.$refs.uploader.click()):this.$refs.uploader.click()},ambil:function(t){var e,i,n=this;t.target.files[0].size>1e7?alert("File yang di upload tidak sesuai kriteria"):t.target.files.length>0&&function(){for(var s,a=[],l=[],o="null",r=0;r<t.target.files.length;r++)n.imgs.push(t.target.files[r]),e=t.target.files[r],i=new FileReader,i.onload=function(t){a.push(t.target.result)},i.readAsDataURL(e),s=t.target.files[r],o=s.size<1e6?30:s.size<2e6?25:s.size<3e6?20:s.size<4e6?15:10,n.$daycaca.compress(s,o,(function(t){n.gambar=t,n.$urltofile(t,s.name,s.type).then((function(t){l.push(t)}))}));n.imgList=a,console.log(t.target),n.$emit("upload",l)}()}}}),l=a,o=i("2877"),r=Object(o["a"])(l,n,s,!1,null,null,null);e["a"]=r.exports},c740:function(t,e,i){"use strict";var n=i("23e7"),s=i("b727").findIndex,a=i("44d2"),l=i("ae40"),o="findIndex",r=!0,c=l(o);o in[]&&Array(1)[o]((function(){r=!1})),n({target:"Array",proto:!0,forced:r||!c},{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)}}]);
//# sourceMappingURL=page-testing-dekstop-upload.642f8063.js.map